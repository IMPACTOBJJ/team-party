<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Team Party 2025 参加フォーム</title>
<style>
body {
    font-family: Arial, sans-serif;
    padding: 20px;
    background: #f5f5f5;
}
.container {
    background: white;
    padding: 20px;
    border-radius: 10px;
    max-width: 700px;
    margin: auto;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
input, select {
    padding: 10px;
    margin-top: 5px;
    margin-bottom: 15px;
    width: 100%;
    font-size: 16px;
}
label {
    font-weight: bold;
}
.person-box {
    border: 1px solid #ddd;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 8px;
    background: #fafafa;
}
.total-box {
    font-size: 20px;
    font-weight: bold;
    padding: 15px;
    background: #fff3cd;
    border: 1px solid #ffeeba;
    border-radius: 10px;
    margin-top: 20px;
}
.notice {
    font-size: 18px;
    font-weight: bold;
    color: red;
    margin: 15px 0;
}
button {
    padding: 15px;
    background: #0066ff;
    color: white;
    font-size: 18px;
    border: none;
    border-radius: 8px;
    width: 100%;
    cursor: pointer;
}
</style>
</head>
<body>

<div class="container">
<h2>Team Party 2025 参加フォーム</h2>
<p>
Hilton Okinawa Chatan Resort / 3rd F<br>
Buffet restaurant "Suriyun"<br>
<strong>12月13日（土）18時〜</strong><br>
A大人 6000円 / B中高生 4800円 / C小学生 2300円
</p>

<form action="https://formsubmit.co/impacto@bjjokinawa.com" method="POST">

<label>参加人数</label>
<input type="number" id="count" min="1" max="20" required>

<div id="people"></div>

<div class="total-box">
合計金額：<span id="total">0</span> 円
</div>

<label>メールアドレス（Gmail）</label>
<input type="email" name="email" required>

<p class="notice">※ お支払いは 12月9日まで にお願いいたします。</p>

<!-- メールのタイトル（件名） -->
<input type="hidden" name="_subject" value="Team Party 2025 参加申し込み">

<!-- スパム防止 -->
<input type="hidden" name="_captcha" value="false">

<button type="submit">送信する</button>
</form>
</div>

<script>
const priceA = 6000;
const priceB = 4800;
const priceC = 2300;

document.getElementById("count").addEventListener("change", function () {
    const peopleDiv = document.getElementById("people");
    peopleDiv.innerHTML = "";
    const count = Number(this.value);

    for (let i = 1; i <= count; i++) {
        const box = document.createElement("div");
        box.className = "person-box";
        box.innerHTML = `
            <label>${i}人目 区分</label>
            <select name="person${i}_type" onchange="calcTotal()">
                <option value="A">A 大人（6000円）</option>
                <option value="B">B 中高生（4800円）</option>
                <option value="C">C 小学生（2300円）</option>
            </select>

            <label>名前</label>
            <input type="text" name="person${i}_name" required>
        `;
        peopleDiv.appendChild(box);
    }
    calcTotal();
});

function calcTotal() {
    let total = 0;
    const selects = document.querySelectorAll("select");

    selects.forEach(sel => {
        if (sel.value === "A") total += priceA;
        if (sel.value === "B") total += priceB;
        if (sel.value === "C") total += priceC;
    });

    document.getElementById("total").textContent = total;
}
</script>

</body>
</html>
